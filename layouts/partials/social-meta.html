{{ $title := .Title }}
{{ if .IsHome }}
  {{ $title = .Site.Title }}
{{ end }}

{{ $description := .Summary | default .Site.Params.description | plainify | htmlUnescape }}
{{ $image := "" }}
{{ if .Params.images }}
  {{ $image = index .Params.images 0 | absURL }}
{{ else if .Params.image }}
  {{ $image = .Params.image | absURL }}
{{ else if .Site.Params.profileMode.imageUrl }}
  {{ $image = .Site.Params.profileMode.imageUrl | absURL }}
{{ end }}

<!-- Open Graph -->
<meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}">
<meta property="og:title" content="{{ $title }}">
<meta property="og:description" content="{{ $description }}">
<meta property="og:url" content="{{ .Permalink }}">
{{ with $image }}
<meta property="og:image" content="{{ . }}">
{{ end }}
<meta property="og:site_name" content="{{ .Site.Title }}">
{{ if .IsPage }}
<meta property="article:author" content="Daniel Olshansky">
<meta property="article:published_time" content="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
<meta property="article:modified_time" content="{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}">
{{ with .Params.tags }}
  {{ range . }}
<meta property="article:tag" content="{{ . }}">
  {{ end }}
{{ end }}
{{ end }}

<!-- Twitter Card -->
<meta name="twitter:card" content="{{ if $image }}summary_large_image{{ else }}summary{{ end }}">
<meta name="twitter:site" content="@{{ .Site.Params.social.twitter }}">
<meta name="twitter:creator" content="@{{ .Site.Params.social.twitter }}">
<meta name="twitter:title" content="{{ $title }}">
<meta name="twitter:description" content="{{ $description }}">
{{ with $image }}
<meta name="twitter:image" content="{{ . }}">
{{ end }}

<!-- Additional meta tags for SEO -->
<link rel="canonical" href="{{ .Permalink }}">
<meta name="author" content="Daniel Olshansky">
<meta name="description" content="{{ $description }}">
{{ with .Params.keywords }}
<meta name="keywords" content="{{ delimit . ", " }}">
{{ else }}
<meta name="keywords" content="{{ delimit .Site.Params.keywords ", " }}">
{{ end }}