<p><em>This is a post in a series of articles I’m writing called “5 points &amp; 1 resource” (think tl;dr but 5p;1r), where I summarize a list of 5 concepts that would have helped me start learning or re-learning a certain topic. It is intentionally far from a complete source of data.</em></p><div><hr></div><ol><li><p>Celestia decouples transaction <strong>consensus</strong> and <strong>execution</strong> by splitting the responsibilities between Celestia (i.e. the core network) and other blockchains (i.e. clients/applications) built on top of it like so:<br>• <strong>Celestia:</strong> transaction <strong>ordering </strong>&amp;<strong> availability</strong><br>• <strong>Client:</strong> transaction <strong>validation</strong> &amp; <strong>execution</strong></p></li><li><p>The <strong>Data Availability Problem</strong> (a guarantee to clients that block data is available) leverages <strong>erasure encoding </strong>and<strong> probabilistic random sampling</strong> to balance the tradeoff between network bandwidth costs and data availability guarantees. Specifically, if a message is extended to <em>n shares</em>, and more than <em>ᵏ⁄ₙ shares</em> are witheld by an adversarial block producer, a client sampling a <strong>single missed share</strong> can assume, with high confidence, that the block is unavailable.</p></li><li><p>Client nodes (i.e. blockchains/applications) can be implemented using <strong>any language</strong> on top of <strong>any execution environment</strong> and are responsible for managing their own <strong>state transition business logic</strong> by querying storage, while Celestia is responsible for preventing DoS attacks by collecting fees from each included transaction.</p></li><li><p>Using <strong>2D Reed-Solomon</strong> erasure encoding and assuming a <strong>block of size N</strong>, the bandwidth complexity of verifying block availability is either:<br>• <em><strong>O(N)</strong></em> — the whole block plus a single Merkle root are downloaded for a 100% data availability guarantee.<br><strong>• </strong><em><strong>O( √ N+log(√ N))</strong></em><strong> </strong>— a single row or a single column plus <em><strong>2√(N)</strong></em> Merkle roots need to be downloaded for a sub-maximal guarantee. <strong>For example</strong>, with a code rate of <em>¼</em> and <em>4096 shares</em>, only <em>0.4%</em> of the block (<em>15 shares</em>) need to be downloaded to achieve <em>99% confidence</em> that the block is available. This means that increasing the block size and network throughput can be securely achieved by increasing the number of nodes that make sampling requests for block shares.</p></li><li><p>The Celestia network uses a namespaced and ordered Merkle Tree with a 1:1 relationship between applications and namespace IDs, enabling applications to query for transactions associated only with their namespace ID. The hash of each non-leaf node is <em><strong>left||right</strong></em> where left is <em><strong>leftMinNs||leftMaxNs||hash(x)</strong></em> and right is <em><strong>rightMinNs||rightMaxNs||hash(x)</strong></em>, meaning that the node value can be used to determine the range of namespaces the subtree holds messages for.</p></li></ol><div><hr></div><p>There’s no better reference than the original white paper: <a href="https://arxiv.org/pdf/1905.09274.pdf">LazyLedger: A Distributed Data Availability Ledger With Client-Side Smart Contracts</a>, but personally, I’d use my annotated version of the available at ipfs://bafybeibbxdsdzf5v7jdm7ak5opdtw3vf35nb37wldkyokwbhmvdzflwsry or <a href="http://s3.olshansky.info/CelestiaWhitePaperReviewSmall.pdf">s3.olshansky.info/CelestiaWhitePaperReviewSmall.pdf</a>.</p><div><hr></div><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!rwv2!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa274f75f-c69b-454f-bf74-8579921c1fde_666x576.png" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!rwv2!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa274f75f-c69b-454f-bf74-8579921c1fde_666x576.png 424w, https://substackcdn.com/image/fetch/$s_!rwv2!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa274f75f-c69b-454f-bf74-8579921c1fde_666x576.png 848w, https://substackcdn.com/image/fetch/$s_!rwv2!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa274f75f-c69b-454f-bf74-8579921c1fde_666x576.png 1272w, https://substackcdn.com/image/fetch/$s_!rwv2!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa274f75f-c69b-454f-bf74-8579921c1fde_666x576.png 1456w" sizes="100vw"><img src="https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/a274f75f-c69b-454f-bf74-8579921c1fde_666x576.png" width="666" height="576" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/a274f75f-c69b-454f-bf74-8579921c1fde_666x576.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:576,&quot;width&quot;:666,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="" srcset="https://substackcdn.com/image/fetch/$s_!rwv2!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa274f75f-c69b-454f-bf74-8579921c1fde_666x576.png 424w, https://substackcdn.com/image/fetch/$s_!rwv2!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa274f75f-c69b-454f-bf74-8579921c1fde_666x576.png 848w, https://substackcdn.com/image/fetch/$s_!rwv2!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa274f75f-c69b-454f-bf74-8579921c1fde_666x576.png 1272w, https://substackcdn.com/image/fetch/$s_!rwv2!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa274f75f-c69b-454f-bf74-8579921c1fde_666x576.png 1456w" sizes="100vw" fetchpriority="high"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><div class="pencraft pc-reset icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></div><div class="pencraft pc-reset icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></div></div></div></div></a></figure></div><div class="captioned-image-container"><figure><a class="image-link image2 is-viewable-img" target="_blank" href="https://substackcdn.com/image/fetch/$s_!NzOe!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F61433c2e-7c0b-42b2-a733-4e9aad46cc70_668x700.png" data-component-name="Image2ToDOM"><div class="image2-inset"><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!NzOe!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F61433c2e-7c0b-42b2-a733-4e9aad46cc70_668x700.png 424w, https://substackcdn.com/image/fetch/$s_!NzOe!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F61433c2e-7c0b-42b2-a733-4e9aad46cc70_668x700.png 848w, https://substackcdn.com/image/fetch/$s_!NzOe!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F61433c2e-7c0b-42b2-a733-4e9aad46cc70_668x700.png 1272w, https://substackcdn.com/image/fetch/$s_!NzOe!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F61433c2e-7c0b-42b2-a733-4e9aad46cc70_668x700.png 1456w" sizes="100vw"><img src="https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/61433c2e-7c0b-42b2-a733-4e9aad46cc70_668x700.png" width="668" height="700" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/61433c2e-7c0b-42b2-a733-4e9aad46cc70_668x700.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:700,&quot;width&quot;:668,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false,&quot;align&quot;:null,&quot;offset&quot;:false}" class="sizing-normal" alt="" srcset="https://substackcdn.com/image/fetch/$s_!NzOe!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F61433c2e-7c0b-42b2-a733-4e9aad46cc70_668x700.png 424w, https://substackcdn.com/image/fetch/$s_!NzOe!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F61433c2e-7c0b-42b2-a733-4e9aad46cc70_668x700.png 848w, https://substackcdn.com/image/fetch/$s_!NzOe!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F61433c2e-7c0b-42b2-a733-4e9aad46cc70_668x700.png 1272w, https://substackcdn.com/image/fetch/$s_!NzOe!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F61433c2e-7c0b-42b2-a733-4e9aad46cc70_668x700.png 1456w" sizes="100vw" loading="lazy"></picture><div class="image-link-expand"><div class="pencraft pc-display-flex pc-gap-8 pc-reset"><div class="pencraft pc-reset icon-container restack-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-refresh-cw"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path><path d="M21 3v5h-5"></path><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path><path d="M8 16H3v5"></path></svg></div><div class="pencraft pc-reset icon-container view-image"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize2 lucide-maximize-2"><polyline points="15 3 21 3 21 9"></polyline><polyline points="9 21 3 21 3 15"></polyline><line x1="21" x2="14" y1="3" y2="10"></line><line x1="3" x2="10" y1="21" y2="14"></line></svg></div></div></div></div></a><figcaption class="image-caption"><em>Source: <a href="https://arxiv.org/pdf/1905.09274.pdf">https://arxiv.org/pdf/1905.09274.pdf</a></em></figcaption></figure></div><div class="subscription-widget-wrap-editor" data-attrs="{&quot;url&quot;:&quot;https://olshansky.substack.com/subscribe?&quot;,&quot;text&quot;:&quot;Subscribe&quot;,&quot;language&quot;:&quot;en&quot;}" data-component-name="SubscribeWidgetToDOM"><div class="subscription-widget show-subscribe"><div class="preamble"><p class="cta-caption">Thanks for reading Olshansky's Newsletter! Subscribe for free to receive new posts and support my work.</p></div><form class="subscription-widget-subscribe"><input type="email" class="email-input" name="email" placeholder="Type your email…" tabindex="-1"><input type="submit" class="button primary" value="Subscribe"><div class="fake-input-wrapper"><div class="fake-input"></div><div class="fake-button"></div></div></form></div></div>